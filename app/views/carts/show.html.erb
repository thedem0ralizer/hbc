

<article>
  <% if notice %>
    <aside id='notice'><%= notice %></aside>
  <% end %>

  <h2>Shopping Cart</h2>

  <table style='width:100%'>
      <tr>
        <th>Item</th>
        <th>Unit Price</th>
        <th>Quantity</th>
      </tr>
    <% @cart.line_items.each do |line_item| %>
      <tr>
        <td><%= line_item.product.name %></td>
        <td class='price'><%= number_to_currency(line_item.total_price) %></td>
        <td class='quantity'><%= line_item.quantity %></td>
      </tr>
    <% end %>
    <tfoot>
      <tr>
        <th colspan="2">Total:</th>
        <td class='price'><%= number_to_currency(@cart.total_price) %></td>
      </tr>
    </tfoot>
  </table>
</article>

<%= button_to 'Empty cart', @cart, method: :delete, data: { confirm: 'Are you sure?' } %>